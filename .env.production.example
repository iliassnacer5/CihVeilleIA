# =====================================================
# CIH Veille IA — PRODUCTION Environment Variables
# =====================================================
# IMPORTANT: Copy to .env.production and update ALL values
# NEVER commit this file with real credentials to Git!
# =====================================================

# --- Environment ---
ENV=production
DEBUG=False

# --- API Security ---
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
API_SECRET_KEY=CHANGE_ME_GENERATE_A_REAL_SECRET_KEY
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# --- MongoDB ---
MONGO_PASSWORD=SecureP@ss2026
MONGODB_URI=mongodb://mongo_admin:SecureP@ss2026@mongo:27017/VeillePlus?authSource=admin
MONGODB_DB_NAME=VeillePlus
MONGODB_COLLECTION_ENRICHED=enriched_documents

# --- Redis ---
REDIS_URL=redis://redis:6379/0

# --- CORS (Production: only your domain) ---
ALLOWED_ORIGINS=["https://veille.cih.ma","http://localhost:3000"]

# --- LLM Providers (RAG Generation) ---
# At least one key is needed for AI-powered answers.
# If none is set, the system falls back to local summarization.
GEMINI_API_KEY=AIzaSyDU_ljo3sZDMHd5uqearfJTz6eKdoFt_nw
# OPENAI_API_KEY=your_openai_key_here
# OPENAI_MODEL=gpt-4o-mini

# --- Outlook SMTP Email (Notifications) ---
# Utilisez directement votre compte Outlook/Office 365
SMTP_HOST=smtp.office365.com
SMTP_PORT=587
SMTP_USER=Iliass.Nacer@emsi-edu.ma
SMTP_PASSWORD=votre_mot_de_passe_outlook
SMTP_USE_TLS=True
# Si 2FA activée : créer un App Password sur https://account.live.com/proofs/AppPassword

# --- Azure AD (Optionnel — non requis pour SMTP) ---
# AZURE_CLIENT_ID=your-azure-app-client-id
# AZURE_CLIENT_SECRET=your-azure-app-client-secret
# AZURE_TENANT_ID=your-azure-tenant-id
# AZURE_SENDER_EMAIL=Iliass.Nacer@emsi-edu.ma

# --- Notification Logic ---
NOTIFICATION_RAG_THRESHOLD=0.80
NOTIFICATION_DEDUPLICATION_WINDOW=3600
NOTIFICATION_RETRY_ATTEMPTS=3
